Zunächst habe ich die Anwendung aus der Aufgabenstellung in eine formale Problemstellung übersetzt:
\begin{displayquote}
	Gegeben ist ein ein gerichteter Graph \(G=(V,E)\)\footnote{\(V_{ertices}\) ist die Menge der Knoten (Firmen), \(E_{dges}\) die Menge der Kanten (Nebenbedingungen)} mit gewichteten Knoten\footnote{Das Gewicht eines Knotens entspricht dem Kaufpreis}. Gesucht wird die Menge \(K \in V\), bei der die Summe der Gewichte der enthaltenen Knoten maximal ist. Bei der Aufnahme eines Knotens  \(A\) in \(K\) müssen ebenfalls alle Knoten, zu denen von \(A\) ein gerichteter Pfad führt, aufgenommen werden.
\end{displayquote}

Danach habe ich für die Auswahl von geeigneten Algorithmen die Eigenschaften des Graphens untersucht:
\begin{itemize}
	\item Der Graph ist gerichtet
	\item Parallele Kanten ergeben im Kontext der Aufgabenstellung keinen Sinn, da jede Firma nur einmal erworben werden kann
	\item Reflexive Kanten ergeben ebenfalls keinen Sinn, da eine Firma sich nicht selbst vorraussetzen kann
	\item Zyklen können vorkommen
	\item Nicht jeder Knoten besitzt notwendigerweise Kanten, da einige Firmen ohne Nebenbedingungen erwerbbar sind
	\item Der Graph hat daher beliebig viele starke wie schwache Zusammenhängigkeitskomponenten
	\item Der Zahlenraum für die Knotengewichte geht nicht aus der Aufgabenstellung hervor. Logischerweise hat eine Firma jedoch einen beliebigen positiven oder negativen Wert. Daher liegt das Gewicht eines jeden Knotens in \(\mathbb{R}\).
\end{itemize}

Mit diesen Informationen habe ich einen Algorithmus entwickelt, der die optimale Teilmenge ermittelt:

In einem ersten Schritt werden für jede Firma des Konglomerates die Firmen ermittelt, die aufgrund der Nebenbedingungen zwingend mit erworben werden müssen. Im Kontext des Graphens bedeutet dies, dass zu jedem Knoten \(A \in V\) die Menge der Knoten, zu denen von \(A\) ein Pfad führt, ermittelt wird. Dieser Menge wird der Ursprungsknoten hinzugefügt. Diese Menge hat wie auch ein Knoten ein Gewicht, dass der Summe der Gewichte der enthaltenen Knoten entspricht. Jede dieser Mengen stellt einen Kauf einer Teilmenge des Konglomerates dar, bei dem alle Nebenbedingungen berücksichtigt werden.

Allerdings gibt es darüber hinaus noch weitere gültige Käufe/Teilmengen. Denn logischerweise können in einer Transkation beliebig viele Firmen des Konglomerates erworben werden. Daher stellt zum Beispiel auch die Teilmenge bestehend aus den Knoten \((A, B) \in V\) und den Knoten, zu denen ein gerichteter Pfad von \(A\) oder \(B\) existiert, eine gültige Teilmenge im Sinne der Aufgabenstellung dar. Verallgemeinert betrachtet bedeudet dies also, dass es bis zu \(2^V\) gültige Teilmengen gibt. Denn, um wieder in den Kontext der Aufgabenstellung zurückzukehren, kann der Käufer eine Firma entweder unbedingt haben wollen oder den Kauf einer Firma für optional halten. Welche der optionalen Firmen schlussendlich mitgekauft werden müssen ergibt sich wie im vorherigen Absatz erläutert aus den Nebenbedingungen.

\begin{wrapfigure}{r}{0.4\textwidth}
  \begin{center}
    \input{Grafiken/vereinigung.tex}
  \end{center}
\end{wrapfigure}


Die Bestimmung der mitzukaufenden Firmen in \(2^V\) Fällen wird bei großer Knotenanzahl sehr zeitaufwändig (exponentielles Wachstum). Allerdings lassen sich diese Mengen auch durch Vereinigung der Mengen aus dem ersten Berechnungsschritt ermitteln. Wenn Beispielsweise zum Kauf von \(A\) die Menge \(\{A, C, D, R\}\) und zum Kauf von \(B\) die Menge \(\{B, I, E, R\}\) erforderlich ist, ist für den Kauf von \(A\) und \(B\) die Menge \(A \cup B = \{A, B, C, D, E, I, R\}\) erforderlich. Durch die Ausnutzung dieser Eigenschaft lassen sich die \(2^V\) Mengen wesentlich schneller bestimmen.

Die Menge mit dem höchsten Gewicht (=Wert) entspricht der Teilmenge des Graphens mit dem höchsten Wert.
Die Mengen, die aufgestellt werden müssen, lassen sich dank folgender Beobachtung erheblich reduzieren:
Knoten mit einem negativen Gewicht ergeben nur als Nebenbedingung Sinn. Denn ein ökonomisch sinnvoll handelnder Käufer würde niemals eine Firma mit einem negativen Wert freiwillig kaufen wollen. Das bedeutet, dass bei einer optimalen Auswahl auf der linken Seite, also den absichtlich gekauften Firmen, nur Firmen/Knoten mit einem positiven Gewicht stehen können. Firmen ohne Wert können in den optimalen Menge auf der linken Seite stehen, verändern aber nicht das Gewicht der Gesamtmenge. Damit sinkt die Anzahl der zu beachtenden Teilmengen auf \(2^p\), wobei p der Anzahl der Knoten mit positivem Gewicht entspricht.

Die Anzahl der zu beachtenden Mengen kann jedoch noch weiter reduziert werden: Es gibt keinen Grund, eine Firma nicht zu berücksichtigen, die nur positivwertige Firmen als Nebenbedingung hat. Bei solchen Teilmengen entsteht ausschließlich Gewinn. Daher können solche Mengen zu einer "`Win-Win-Menge"' vereinigt werden. Diese Menge wird nun mit den sonstigen zu berücksichtigenden Mengen vereinigt, da sie ja in jedem Kauf enthalten ist. Die Anzahl der zu berücksichtigenden Mengen ist nun auf \(2^{pm}\) reduziert. \(pm\) entspricht den positivwertigen Firmen, die negativwertige Nebenbedingungen haben.
Damit ist jedoch nicht das Grundproblem des exponentiellen Wachstums beseitigt. Je nach verfügbarem Arbeitspeicher wird die Zustandsmenge bei einem hinreichend großem pm irgendwann so groß, dass keine weiteren Zustände mehr gespeichert werden könnnen.
Für diesen Fall muss dem Algorithmus ein heuristisches Element hinzugefügt werden. Sobald dieses eingesetzt wird, wird nicht mehr mit absoluter Sicherheit die beste Teilmenge gefunden, da Zwischenergebnisse, von denen nicht erwartet wird, dass sie Teil der besten Teilmenge sind, zur Einsparung von Speicherplatz verworfen werden.
% Ausführen dass positive Firmen auf der rechten Seite auch links stehen könnten. ggfs. mit Illustrationen